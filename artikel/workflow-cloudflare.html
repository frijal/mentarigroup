<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare</title>
  <!-- SEO Metadata -->
  <meta name="description" content="Penjelasan lengkap dan santai tentang workflow GitHub Actions untuk sinkronisasi branch ke Cloudflare Site. Cocok untuk developer yang ingin deploy otomatis dan efisien." />
  <link rel="canonical" href="https://frijal.pages.dev/artikel/workflow-cloudflare.html" />
  <!-- Open Graph -->
  <meta property="og:title" content="‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare" />
  <meta property="og:description" content="Penjelasan lengkap dan santai tentang workflow GitHub Actions untuk sinkronisasi branch ke Cloudflare Site." />
  <meta property="og:image" content="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhA31C78nMTd9AcKc8Totzjmzm3ubTA1MClmmh4eyrl1mHIjwPfZWu6rrCCL-tQj2UJ2jZprqwp1ao4eeEiwAUnIAkz6DaypVnSrCpxYsPY6olObBpqVM_FRgTOEgV_lvITMnyJw_j83lmuV7Mdga5fCZa_j97935APX33_uY4bMq2OZrqgCdcnlQTN0Vg/s1600/Screenshot_20251025_234149.webp" />
  <meta property="og:url" content="https://frijal.pages.dev/artikel/workflow-cloudflare.html" />
  <meta property="og:type" content="article" />
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare" />
  <meta name="twitter:description" content="Penjelasan lengkap dan santai tentang workflow GitHub Actions untuk sinkronisasi branch ke Cloudflare Site." />
  <meta name="twitter:image" content="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhA31C78nMTd9AcKc8Totzjmzm3ubTA1MClmmh4eyrl1mHIjwPfZWu6rrCCL-tQj2UJ2jZprqwp1ao4eeEiwAUnIAkz6DaypVnSrCpxYsPY6olObBpqVM_FRgTOEgV_lvITMnyJw_j83lmuV7Mdga5fCZa_j97935APX33_uY4bMq2OZrqgCdcnlQTN0Vg/s1600/Screenshot_20251025_234149.webp" />
  <!-- Favicon -->
  <link rel="icon" href="https://frijal.pages.dev/favicon.ico" type="image/x-icon" />
  <!-- CSS -->
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #f9f9f9;
      color: #333;
      line-height: 1.6;
    }
    header {
      background-color: #1e293b;
      color: white;
      padding: 2rem;
      text-align: center;
    }
    header h1 {
      margin: 0;
      font-size: 2rem;
    }
    main {
      max-width: 960px;
      margin: auto;
      padding: 2rem;
    }
    img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    section {
      margin-bottom: 2rem;
    }
    pre {
      background-color: #f0f0f0;
      padding: 1rem;
      overflow-x: auto;
      border-radius: 6px;
      font-size: 0.9rem;
    }
    .social-share {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      margin-top: 2rem;
    }
    .social-share a {
      text-decoration: none;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      font-weight: bold;
    }
    .facebook { background-color: #1877f2; }
    .twitter { background-color: #1da1f2; }
    .linkedin { background-color: #0077b5; }
    .whatsapp { background-color: #25d366; }
    footer {
      background-color: #1e293b;
      color: white;
      text-align: center;
      padding: 1rem;
    }
  </style>
<meta property="og:image:alt" content="‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare">
  <meta itemprop="image" content="https://frijal.pages.dev/img/workflow-cloudflare.webp">
<link rel="stylesheet" href="/ext/marquee-url.css"><link rel="alternate" type="application/rss+xml" title="30 artikel baru bikin." href="https://frijal.pages.dev/rss.xml" />
    <meta property="article:published_time" content="2025-10-26T04:42:20.917+00:00">
</head>
<body>
  <header>
    <h1>‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare</h1>
<div id="iposbrowser"></div>
    <p>Penjelasan santai dan lengkap untuk developer yang ingin deploy otomatis dan efisien</p>
  </header>
  <main>
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhA31C78nMTd9AcKc8Totzjmzm3ubTA1MClmmh4eyrl1mHIjwPfZWu6rrCCL-tQj2UJ2jZprqwp1ao4eeEiwAUnIAkz6DaypVnSrCpxYsPY6olObBpqVM_FRgTOEgV_lvITMnyJw_j83lmuV7Mdga5fCZa_j97935APX33_uY4bMq2OZrqgCdcnlQTN0Vg/s1600/Screenshot_20251025_234149.webp" alt="Tangkapan layar workflow GitHub Actions" />
    <section>
      <h2>üéØ Tujuan Workflow</h2>
      <p>Workflow ini dirancang untuk menyalin file dari branch <code>main</code> ke branch <code>site</code> secara otomatis, hanya jika ada perubahan yang relevan. Cocok banget buat kamu yang pakai Cloudflare Pages dan ingin proses deploy yang bersih dan efisien.</p>
    </section>
    <section>
      <h2>üîß Struktur dan Langkah-langkah</h2>
      <p>Berikut adalah isi lengkap file <code>.github/workflows/deploy-to-site.yml</code>:</p>
      <pre><code>name: ‚ö†Ô∏è Copy ke Branch Site Cloudflare
on:
  schedule:
    - cron: '0 17 * * *'
  push:
    branches:
      - main
    paths:
      - 'artikel.json'
      - '_redirects'
      - '_headers'
      - '*.html'
      - '*.xml'
      - '*.txt'
      - 'favicon.*'
      - 'icon.*'
      - 'logo.*'
      - 'thumbnail.*'
      - '*.webmanifest'
  workflow_dispatch:
permissions:
  contents: write
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout source branch
        uses: actions/checkout@v4
        with:
          ref: main
          path: source
      - name: Checkout site branch (for comparison)
        uses: actions/checkout@v4
        with:
          ref: site
          path: site
      - name: Create clean directory
        run: mkdir deploy_dir
      - name: Sync allowed files to deploy directory
        run: |
          rsync -a --delete \
            --include='artikel/***' \
            --include='ext/***' \
            --include='img/***' \
            --include='artikel.json' \
            --include='_redirects' \
            --include='_headers' \
            --include='*.html' \
            --include='*.xml' \
            --include='*.txt' \
            --include='favicon.*' \
            --include='icon.*' \
            --include='logo.*' \
            --include='thumbnail.*' \
            --include='*.webmanifest' \
            --exclude='*' \
            source/ deploy_dir/
      - name: Check for changes vs deployed site
        id: check_changes
        run: |
          if git diff --no-index --quiet deploy_dir/ site/; then
            echo "changed=false" >> $GITHUB_OUTPUT
          else
            echo "changed=true" >> $GITHUB_OUTPUT
          fi
      - name: Deploy to site branch
        if: steps.check_changes.outputs.changed == 'true'
        uses: peaceiris/actions-gh-pages@v4
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./deploy_dir
          publish_branch: site
          user_name: 'github-actions[bot]'
          user_email: 'github-actions[bot]@users.noreply.github.com'
          force_orphan: false
          keep_files: false
</code></pre>
    <section>
      <h2>üìå Penjelasan Tambahan</h2>
      <p>Workflow ini sangat cocok untuk kamu yang ingin menjaga branch <code>site</code> tetap bersih dan hanya berisi file yang memang dibutuhkan untuk deploy ke Cloudflare Pages. Dengan filter <code>paths</code> dan <code>rsync --include</code>, kamu bisa pastikan hanya file penting seperti HTML, JSON, favicon, dan manifest yang ikut disalin.</p>
      <p>Langkah <strong>check_changes</strong> juga penting banget karena mencegah deploy yang sia-sia kalau ternyata tidak ada perubahan signifikan. Ini hemat waktu dan resource.</p>
    </section>
    <section>
      <h2>üîó Bagikan ke Sosial Media</h2>
      <div class="social-share">
        <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://frijal.pages.dev/artikel/workflow-cloudflare.html" target="_blank">Facebook</a>
        <a class="twitter" href="https://twitter.com/intent/tweet?url=https://frijal.pages.dev/artikel/workflow-cloudflare.html&text=Penjelasan%20Workflow%20GitHub%20Actions%20untuk%20Cloudflare" target="_blank">Twitter</a>
        <a class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://frijal.pages.dev/artikel/workflow-cloudflare.html" target="_blank">LinkedIn</a>
        <a class="whatsapp" href="https://api.whatsapp.com/send?text=https://frijal.pages.dev/artikel/workflow-cloudflare.html" target="_blank">WhatsApp</a>
      </div>
    </section>
  </main>
  <footer>
    <p>&copy; 2025 Frijal Pages. Dibuat dengan ‚ù§Ô∏è oleh Fakhrul.</p>
  </footer>
<div class="search-floating-container"><input type="text" id="floatingSearchInput" placeholder="cari artikel..." autocomplete="off"><span id="floatingSearchClear" class="clear-button"></span><div id="floatingSearchResults" class="floating-results-container"></div></div>
<section id="related-marquee-section"><div id="related-marquee-container"></div></section><script defer src="/ext/marquee-url.js"></script>
<script defer src="/ext/iposbrowser.js"></script><script defer src="/ext/markdown.js"></script>
</body>
</html>