<!DOCTYPE html>
<html lang="id">
<head>
  <!-- ğŸ§­ Metadata & SEO -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>Pengecekan & Laporan Konten Harian - Otomasi GitHub Actions ğŸ”†</title>
  <meta name="description" content="Workflow GitHub Actions otomatis untuk membersihkan gambar orphan, menghitung jumlah artikel dan cover WebP, serta membuat laporan konten harian di GitHub Pages.">
  <meta name="keywords" content="GitHub Actions, Workflow Otomatis, frijal.pages.dev, WebP, laporan harian, automation, YAML">
  <meta name="author" content="frijal">
  <link rel="canonical" href="https://frijal.pages.dev/artikel/pengecekan-dan-laporan-konten-harian.html">
  <!-- ğŸŒ Open Graph -->
  <meta property="og:type" content="article">
  <meta property="og:title" content="ğŸ”† Pengecekan & Laporan Konten Harian">
  <meta property="og:description" content="Otomasi GitHub Actions untuk membersihkan gambar orphan dan membuat laporan jumlah konten secara otomatis.">
  <meta property="og:image" content="https://frijal.pages.dev/img/pengecekan-dan-laporan-konten-harian.webp">
  <meta property="og:url" content="https://frijal.pages.dev/artikel/pengecekan-dan-laporan-konten-harian.html">
  <!-- ğŸ¦ Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ğŸ”† Pengecekan & Laporan Konten Harian">
  <meta name="twitter:description" content="Workflow otomatis GitHub Actions untuk laporan konten harian di frijal.pages.dev">
  <meta name="twitter:image" content="https://frijal.pages.dev/img/pengecekan-dan-laporan-konten-harian.webp">
  <!-- ğŸ–¼ï¸ Favicon -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <!-- ğŸ¨ CSS -->
  <style>
    :root {
      --bg: #f7f9fc;
      --text: #1e1e1e;
      --accent: #0078ff;
      --card: #ffffff;
      --shadow: rgba(0,0,0,0.08);
      --radius: 16px;
    }
    body {
      margin: 0;
      font-family: "Segoe UI", Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }
    header {
      background: var(--card);
      box-shadow: 0 2px 8px var(--shadow);
      padding: 1.4rem 2rem;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    header h1 {
      font-size: 1.8rem;
      margin: 0;
      display: flex;
      align-items: center;
      gap: .5rem;
    }
    main {
      max-width: 1100px;
      margin: 2rem auto;
      padding: 2rem;
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: 0 4px 12px var(--shadow);
    }
    h2 {
      color: var(--accent);
      border-bottom: 2px solid var(--accent);
      padding-bottom: .3rem;
      margin-top: 2.2rem;
    }
    pre {
      background: #f4f4f4;
      padding: 1rem;
      border-radius: 10px;
      overflow-x: auto;
      font-size: .9rem;
      border: 1px solid #e0e0e0;
    }
    code {
      color: #c7254e;
      background: #f9f2f4;
      padding: 2px 4px;
      border-radius: 4px;
    }
    .flowchart {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1rem;
      margin: 2rem 0;
    }
    .node {
      background: var(--accent);
      color: white;
      padding: 1rem 1.5rem;
      border-radius: var(--radius);
      box-shadow: 0 3px 8px var(--shadow);
      text-align: center;
      min-width: 160px;
      transition: transform .2s;
    }
    .node:hover { transform: scale(1.05); }
    .arrow {
      width: 40px;
      height: 40px;
      align-self: center;
    }
    .social-share {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin-top: 2rem;
    }
    .social-share a {
      width: 42px;
      height: 42px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--accent);
      transition: background .3s;
    }
    .social-share a:hover { background: #005fc7; }
    .social-share img { width: 22px; filter: invert(1); }
    footer {
      text-align: center;
      padding: 2rem 1rem;
      color: #666;
      font-size: .9rem;
    }
    @media (max-width:768px) {
      main { margin: 1rem; padding: 1rem; }
      .flowchart { flex-direction: column; align-items: center; }
      .arrow { transform: rotate(90deg); }
    }
  </style>
<meta property="og:image:alt" content="Pengecekan & Laporan Konten Harian - Otomasi GitHub Actions ğŸ”†">
  <meta itemprop="image" content="https://frijal.pages.dev/img/pengecekan-dan-laporan-konten-harian.webp">
<link rel="stylesheet" href="/ext/marquee-url.css"><link rel="alternate" type="application/rss+xml" title="30 artikel baru bikin." href="https://frijal.pages.dev/rss.xml" />
    <meta property="article:published_time" content="2025-10-22T11:53:56.642+00:00">
</head>
<body>
  <header>
    <h1>ğŸ”† Pengecekan &amp; Laporan Konten Harian</h1>
<div id="iposbrowser"></div>
  </header>
  <main>
    <p>Workflow ini berjalan otomatis di <strong>GitHub Actions</strong> setiap hari untuk menjaga kebersihan dan keteraturan konten di situs <em>frijal.pages.dev</em>. Ia melakukan dua hal penting: membersihkan gambar yang tidak dipakai lagi (orphan) dan membuat laporan jumlah konten serta badge status yang bisa ditampilkan di halaman utama. Santai tapi disiplin ğŸ˜„</p>
    <h2>ğŸ§© Alur Kerja (Flow)</h2>
    <div class="flowchart">
      <div class="node">â° Jadwal Otomatis (21:00 UTC)</div>
      <svg class="arrow" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="var(--accent)" stroke-width="3"><path d="M5 20 L35 20 M25 10 L35 20 L25 30"/></svg>
      <div class="node">ğŸ§¹ Cleanup Orphan</div>
      <svg class="arrow" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="var(--accent)" stroke-width="3"><path d="M5 20 L35 20 M25 10 L35 20 L25 30"/></svg>
      <div class="node">ğŸ“Š Reporting</div>
      <svg class="arrow" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="var(--accent)" stroke-width="3"><path d="M5 20 L35 20 M25 10 L35 20 L25 30"/></svg>
      <div class="node">ğŸš€ Commit & Push</div>
    </div>
    <h2>ğŸ§­ Tujuan Workflow</h2>
    <ul>
      <li><strong>Membersihkan gambar orphan:</strong> Menghapus file <code>.webp</code> yang tidak punya pasangan <code>.html</code>.</li>
      <li><strong>Membuat laporan harian:</strong> Menghitung jumlah file HTML, WebP, PNG, dan membuat badge status otomatis.</li>
    </ul>
    <h2>ğŸ“œ Kode Workflow Lengkap</h2>
    <pre><code>name: ğŸ”† Pengecekan & Laporan Konten Harian
on:
  schedule:
    - cron: '0 21 * * *'
  workflow_dispatch:
jobs:
  cleanup:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - name: Cari dan Hapus Gambar Orphan
        id: cleanup_step
        run: |
          echo "ğŸ§¹ Memulai proses..."
          DELETED_COUNT=0
          for webp_file in img/*.webp; do
            base=$(basename "$webp_file" .webp)
            html="artikel/${base}.html"
            if [ ! -f "$html" ]; then
              git rm -f "$webp_file"
              DELETED_COUNT=$((DELETED_COUNT+1))
            fi
          done
          echo "deleted_count=$DELETED_COUNT" >> $GITHUB_OUTPUT
      - if: steps.cleanup_step.outputs.deleted_count != '0'
        run: |
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          git commit -m "chore(cleanup): hapus gambar orphan"
          git pull origin main --rebase
          git push
  reporting:
    needs: cleanup
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: actions/checkout@v4
      - run: sudo apt-get update && sudo apt-get install -y jq
      - name: Setup Variabel
        id: vars
        run: |
          TARGETS="artikel img"
          DATE=$(date +'%m-%d')
          REPORT="mini/${DATE}-laporan_konten.txt"
          echo "report=$REPORT" >> $GITHUB_OUTPUT
          echo "targets=$TARGETS" >> $GITHUB_OUTPUT
      - name: Hitung File
        id: count
        run: |
          TARGETS="${{ steps.vars.outputs.targets }}"
          declare -A counts
          for ext in html webp png; do
            counts[$ext]=$(find $TARGETS -maxdepth 1 -type f -iname "*.$ext" | wc -l)
          done
          counts[all]=$(find $TARGETS -maxdepth 1 -type f | wc -l)
          for k in "${!counts[@]}"; do echo "$k=${counts[$k]}" >> $GITHUB_OUTPUT; done
      - name: Buat Laporan
        run: |
          REPORT="${{ steps.vars.outputs.report }}"
          DATE=$(date +'%d %B %Y')
          mkdir -p mini
          {
            echo "LAPORAN KONTEN ($DATE)"
            echo "==========================="
            echo "HTML=${{ steps.count.outputs.html }}, WEBP=${{ steps.count.outputs.webp }}, PNG=${{ steps.count.outputs.png }}"
            echo ""
            echo "URL Artikel:"
            find artikel -maxdepth 1 -iname "*.html" | sort
          } > "$REPORT"
      - name: Buat Badge JSON
        run: |
          mkdir -p mini
          html=${{ steps.count.outputs.html }}
          webp=${{ steps.count.outputs.webp }}
          color=$(if (( html > webp )); then echo red; elif (( html < webp )); then echo green; else echo blue; fi)
          jq -n --arg h "$html" --arg w "$webp" '{schemaVersion:1,label:"html/webp",message:("\($h)/\($w)"),color:"'$color'"}' > mini/html_webp_badge.json
      - name: Commit & Push
        run: |
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          git add mini/*
          if ! git diff --staged --quiet; then
            git commit -m "chore: update laporan & badge konten"
            git pull origin main --rebase
            git push
          fi</code></pre>
    <h2>ğŸ“ˆ Hasil Akhir</h2>
    <p>Setelah workflow selesai, folder <code>mini/</code> akan berisi:</p>
    <ul>
      <li><code>10-22-laporan_konten.txt</code> â€” laporan jumlah file</li>
      <li><code>html_webp_badge.json</code> â€” badge status</li>
      <li>Beberapa laporan sebelumnya (maksimal 7 hari)</li>
    </ul>
    <h2>ğŸ’¡ Kesimpulan</h2>
    <p>Dengan workflow ini, semuanya jadi otomatis: file lama dibersihkan, laporan diperbarui, dan badge status konten dibuat setiap hari tanpa sentuhan manual. Workflow kecil tapi sangat membantu menjaga kualitas konten di <strong>frijal.pages.dev</strong> ğŸš€</p>
    <div class="social-share">
      <a href="https://twitter.com/intent/tweet?text=ğŸ”†%20Pengecekan%20dan%20Laporan%20Konten%20Harian%20GitHub%20Actions&url=https://frijal.pages.dev/artikel/pengecekan-dan-laporan-konten-harian.html" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/x.svg" alt="Twitter"></a>
      <a href="https://www.facebook.com/sharer/sharer.php?u=https://frijal.pages.dev/artikel/pengecekan-dan-laporan-konten-harian.html" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/facebook.svg" alt="Facebook"></a>
      <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://frijal.pages.dev/artikel/pengecekan-dan-laporan-konten-harian.html" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/linkedin.svg" alt="LinkedIn"></a>
      <a href="https://t.me/share/url?url=https://frijal.pages.dev/artikel/pengecekan-dan-laporan-konten-harian.html&text=Pengecekan%20dan%20Laporan%20Konten%20Harian" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/telegram.svg" alt="Telegram"></a>
    </div>
  </main>
  <footer>
    <p>ğŸ„¯ 2025 <a href="https://frijal.pages.dev">frijal.pages.dev</a> â€” Workflow Otomatis Harian</p>
  </footer>
  <!-- âš¡ Animasi ringan -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      console.log("âœ¨ Workflow page loaded!");
      const nodes = document.querySelectorAll('.node');
      nodes.forEach((n,i)=>setTimeout(()=>n.style.transform='scale(1.05)',200*i));
      setTimeout(()=>nodes.forEach(n=>n.style.transform=''),2000);
    });
  </script>
<div class="search-floating-container"><input type="text" id="floatingSearchInput" placeholder="cari artikel..." autocomplete="off"><span id="floatingSearchClear" class="clear-button"></span><div id="floatingSearchResults" class="floating-results-container"></div></div>
<section id="related-marquee-section"><div id="related-marquee-container"></div></section><script defer src="/ext/marquee-url.js"></script>
<script defer src="/ext/iposbrowser.js"></script><script defer src="/ext/markdown.js"></script>
</body>
</html>