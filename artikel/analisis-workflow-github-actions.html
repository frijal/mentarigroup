<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ngoprek Workflow GitHub Actions | f-Page</title>
    <meta name="description" content="Penjelasan mendalam tentang workflow GitHub Actions untuk build dan deploy ke branch 'site' secara efisien, hanya jika ada perubahan.">
    <link rel="canonical" href="https://frijal.pages.dev/artikel/analisis-workflow-github-actions.html">
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABGklEQVR42mP8/5+BgYGOgYGBCUisAWIbIHYA4k8A8S8Q/wPxXyB+AsRvQPwKxP/AwMBIE5I0kKQT/0PZf0D8BYi/AfFPQPyfKfkfJiafA/UnUH8D8U+g/kfS/0j6P5T+T8j/kex/IP4PxH9A/A+I/wHxPyD+D8R/tEEaKNpA0QZpN0isgVgNiN2AWA2IXYDYBYjNAAEAAAnmHmQ0B1pNAAAAAElFTkSuQmCC">

    <!-- Open Graph (Facebook, LinkedIn, dll.) -->
    <meta property="og:title" content="Analisis Workflow GitHub Actions yang Efisien">
    <meta property="og:description" content="Penjelasan mendalam tentang workflow GitHub Actions untuk build dan deploy ke branch 'site' secara efisien.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://frijal.pages.dev/artikel/analisis-workflow-github-actions.html">
    <meta property="og:image" content="https://frijal.pages.dev/img/analisis-workflow-github-actions.webp">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="f-Page">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Analisis Workflow GitHub Actions yang Efisien">
    <meta name="twitter:description" content="Penjelasan mendalam tentang workflow GitHub Actions untuk build dan deploy ke branch 'site' secara efisien.">
    <meta name="twitter:image" content="https://frijal.pages.dev/img/analisis-workflow-github-actions.webp">
    <meta name="twitter:creator" content="@frijal">
    <meta name="twitter:site" content="@frijal">

    <!-- Memuat Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        code {
            font-family: 'Courier New', Courier, monospace;
        }
    </style>
<meta property="og:image:alt" content="Ngoprek Workflow GitHub Actions | f-Page">
  <meta itemprop="image" content="https://frijal.pages.dev/img/analisis-workflow-github-actions.webp">
<link rel="stylesheet" href="/ext/marquee-url.css"><link rel="alternate" type="application/rss+xml" title="30 artikel baru bikin." href="https://frijal.pages.dev/rss.xml" />
    <meta property="article:published_time" content="2025-10-23T07:03:49.508+00:00">
</head>
<body class="bg-gray-50 text-gray-800 font-sans leading-relaxed">

    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto max-w-5xl p-8 md:p-12 text-center">
            <h1 class="text-3xl md:text-5xl font-bold text-indigo-700 mb-4">
                Ngoprek Workflow GitHub Actions
            </h1>
<div id="iposbrowser"></div>
            <p class="text-lg md:text-xl text-gray-600">
                Bedah Tuntas Proses Deploy Cerdas ke Branch 'site' Biar Nggak Boros Waktu!
            </p>
        </div>
    </header>

    <!-- Konten Utama -->
    <main class="container mx-auto max-w-4xl p-4 md:p-8">

        <!-- Ringkasan Tujuan -->
        <section class="bg-white p-6 md:p-8 rounded-lg shadow-lg mb-10">
            <h2 class="text-2xl md:text-3xl font-bold text-indigo-600 mb-5">
                Tujuan Utamanya Apa Sih?
            </h2>
            <p class="text-base md:text-lg text-gray-700 mb-4">
                Intinya, workflow ini dibikin buat nge-handle proses <strong class="font-semibold">deploy website statis</strong> kamu. Bayangin kamu punya branch <code class="bg-gray-100 p-1 rounded text-sm">main</code> buat nulis kode, artikel, atau aset lainnya. Nah, workflow ini bakal <strong class="font-semibold">secara otomatis nyalin file-file penting</strong> (kayak HTML, gambar, JSON) dari <code class="bg-gray-100 p-1 rounded text-sm">main</code> ke branch <code class="bg-gray-100 p-1 rounded text-sm">site</code>.
            </p>
            <p class="text-base md:text-lg text-gray-700">
                Yang bikin keren, proses ini <strong class="font-semibold">efisien banget</strong>:
            </p>
            <ul class="list-disc list-inside mt-4 space-y-2 text-gray-700 text-base md:text-lg">
                <li>Dia cuma nyomot file yang kita <strong class="font-semibold">izinkan (whitelist)</strong> aja.</li>
                <li>Dia ngecek dulu, "Ada yang berubah nggak, nih?" dibanding branch <code class="bg-gray-100 p-1 rounded text-sm">site</code> yang lama.</li>
                <li>Kalo <strong class="font-semibold">nggak ada perubahan, dia diem aja</strong>. Nggak ada commit baru, hemat resource!</li>
                <li>Kalo <strong class="font-semibold">ada perubahan</strong>, baru dia gaspol deploy (commit & push) ke <code class="bg-gray-100 p-1 rounded text-sm">site</code>.</li>
            </ul>
        </section>

        <!-- Penjelasan Langkah-demi-Langkah -->
        <section>
            <h2 class="text-2xl md:text-3xl font-bold text-center text-indigo-600 mb-8">
                Bongkar Satu per Satu!
            </h2>

            <div class="space-y-8">
                
                <!-- 1. Pemicu (Triggers) -->
                <article class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                    <div class="flex items-center mb-4">
                        <span class="flex-shrink-0 bg-indigo-500 text-white rounded-full h-8 w-8 md:h-10 md:w-10 flex items-center justify-center font-bold text-lg md:text-xl mr-4">1</span>
                        <h3 class="text-xl md:text-2xl font-bold text-gray-900">Pemicu (Triggers)</h3>
                    </div>
                    <p class="text-gray-700 mb-4 text-base md:text-lg">
                        Workflow ini bakal "bangun" dan jalan otomatis kalo salah satu dari dua hal ini kejadian:
                    </p>
                    <ul class="list-disc list-inside mb-4 text-gray-700 text-base md:text-lg">
                        <li>Ada yang nge-<strong>push</strong> commit baru ke branch <code class="bg-gray-100 p-1 rounded text-sm">main</code>.</li>
                        <li>Ada yang <strong>ngeklik tombol "Run workflow"</strong> manual di tab Actions GitHub.</li>
                    </ul>
                    <pre class="bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-yaml">on:
  push:
    branches:
      - main
  workflow_dispatch:</code></pre>
                </article>

                <!-- 2. Izin (Permissions) -->
                <article class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                    <div class="flex items-center mb-4">
                        <span class="flex-shrink-0 bg-indigo-500 text-white rounded-full h-8 w-8 md:h-10 md:w-10 flex items-center justify-center font-bold text-lg md:text-xl mr-4">2</span>
                        <h3 class="text-xl md:text-2xl font-bold text-gray-900">Izin (Permissions)</h3>
                    </div>
                    <p class="text-gray-700 mb-4 text-base md:text-lg">
                        Bagian ini krusial. Kita ngasih "surat izin" ke workflow ini biar dia boleh <strong>nulis (write)</strong> ke repositori. Tanpa ini, dia nggak bakal bisa nge-push hasil kerjanya ke branch <code class="bg-gray-100 p-1 rounded text-sm">site</code>.
                    </p>
                    <pre class="bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-yaml">permissions:
  contents: write</code></pre>
                </article>

                <!-- 3. Pekerjaan (Jobs) -->
                <article class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                    <div class="flex items-center mb-4">
                        <span class="flex-shrink-0 bg-indigo-500 text-white rounded-full h-8 w-8 md:h-10 md:w-10 flex items-center justify-center font-bold text-lg md:text-xl mr-4">3</span>
                        <h3 class="text-xl md:text-2xl font-bold text-gray-900">Pekerjaan (Jobs)</h3>
                    </div>
                    <p class="text-gray-700 mb-4 text-base md:text-lg">
                        Cuma ada satu pekerjaan utama, namanya <code class="bg-gray-100 p-1 rounded text-sm">build-and-deploy</code>. Ini dia rincian langkah-langkah di dalamnya:
                    </p>

                    <!-- Sub-langkah -->
                    <div class="mt-6 pl-4 md:pl-6 border-l-4 border-indigo-200 space-y-6">
                        
                        <!-- Langkah 1 & 2 -->
                        <div>
                            <h4 class="text-lg md:text-xl font-semibold text-gray-800 mb-2">Langkah 1 & 2: Checkout Dua Branch</h4>
                            <p class="text-gray-700 mb-4">
                                Kita nyuruh si runner (komputer server GitHub) buat ngunduh <strong>dua branch sekaligus</strong> ke folder yang beda:
                            </p>
                            <ul class="list-decimal list-inside mb-4 text-gray-700">
                                <li>Branch <code class="bg-gray-100 p-1 rounded text-sm">main</code> (sumber) diunduh ke folder <code class="bg-gray-100 p-1 rounded text-sm">./source</code>.</li>
                                <li>Branch <code class="bg-gray-100 p-1 rounded text-sm">site</code> (tujuan) diunduh ke folder <code class="bg-gray-100 p-1 rounded text-sm">./site</code>.</li>
                            </ul>
                            <p class="text-gray-700 mb-4">
                                Ini penting biar nanti kita bisa bandingin isinya.
                            </p>
                            <pre class="bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-yaml">- name: Checkout source branch
  uses: actions/checkout@v4
  with:
    ref: main
    path: source

- name: Checkout site branch
  uses: actions/checkout@v4
  with:
    ref: site
    path: site</code></pre>
                        </div>

                        <!-- Langkah 3 -->
                        <div>
                            <h4 class="text-lg md:text-xl font-semibold text-gray-800 mb-2">Langkah 3: Bikin Direktori Bersih</h4>
                            <p class="text-gray-700 mb-4">
                                Bikin folder kosong baru namanya <code class="bg-gray-100 p-1 rounded text-sm">deploy_dir</code>. Anggap aja ini kayak "nampan" kosong buat nyiapin file-file yang mau di-deploy.
                            </p>
                            <pre class="bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-yaml">- name: Create clean directory
  run: mkdir deploy_dir</code></pre>
                        </div>

                        <!-- Langkah 4 -->
                        <div>
                            <h4 class="text-lg md:text-xl font-semibold text-gray-800 mb-2">Langkah 4: Sinkronisasi File (Intinya di Sini!)</h4>
                            <p class="text-gray-700 mb-4">
                                Ini dia jantungnya. Perintah <code class="bg-gray-100 p-1 rounded text-sm">rsync</code> ini nyalin file dari <code class="bg-gray-100 p-1 rounded text-sm">./source</code> ke <code class="bg-gray-100 p-1 rounded text-sm">./deploy_dir</code> pake aturan ketat:
                            </p>
                            <ul class="list-disc list-inside mb-4 text-gray-700 space-y-2">
                                <li><code class="bg-gray-100 p-1 rounded text-sm">--include=...</code>: Cuma file/folder yang cocok sama pola ini yang boleh ikut. Ini "whitelist" kita.</li>
                                <li><code class="bg-gray-100 p-1 rounded text-sm">--exclude='*'</code>: Setelah whitelist-nya dicek, file LAINNYA dibuang, nggak boleh ikut.</li>
                                <li><code class="bg-gray-100 p-1 rounded text-sm">--delete</code>: Kalo di <code class="bg-gray-100 p-1 rounded text-sm">deploy_dir</code> ada file lama yang udah nggak ada di <code class="bg-gray-100 p-1 rounded text-sm">source</code>, hapus aja. Biar bersih!</li>
                            </ul>
                            <p class="text-gray-700 mb-4">
                                Hasilnya: <code class="bg-gray-100 p-1 rounded text-sm">deploy_dir</code> cuma berisi file website yang siap tayang (HTML, gambar, artikel, dll).
                            </p>
                            <pre class="bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-yaml">- name: Sync allowed files to deploy directory
  run: |
    rsync -a --delete \
      --include='artikel/***' \
      --include='ext/***' \
      # ... (daftar --include lainnya) ...
      --exclude='*' \
      source/ deploy_dir/</code></pre>
                        </div>

                        <!-- Langkah 5 -->
                        <div>
                            <h4 class="text-lg md:text-xl font-semibold text-gray-800 mb-2">Langkah 5: Cek Perubahan (Biar Efisien)</h4>
                            <p class="text-gray-700 mb-4">
                                Langkah cerdas ini ngehemat waktu. Kita bandingin isi folder "nampan" baru kita (<code class="bg-gray-100 p-1 rounded text-sm">deploy_dir</code>) sama folder <code class="bg-gray-100 p-1 rounded text-sm">site</code> yang lama.
                            </p>
                            <ul class="list-disc list-inside mb-4 text-gray-700 space-y-2">
                                <li>Perintah <code class="bg-gray-100 p-1 rounded text-sm">git diff --no-index --quiet</code> dipakai buat nge-diff dua folder.</li>
                                <li>Kalo <strong class="font-semibold">identik (nggak ada beda)</strong>, dia bakal ngasih output <code class="bg-gray-100 p-1 rounded text-sm">changed=false</code>.</li>
                                <li>Kalo <strong class="font-semibold">ada bedanya</strong>, sekecil apapun, dia ngasih output <code class="bg-gray-100 p-1 rounded text-sm">changed=true</code>.</li>
                            </ul>
                            <pre class="bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-yaml">- name: Check for changes (Fast & No-Log)
  id: check_changes
  run: |
    if git diff --no-index --quiet deploy_dir/ site/; then
      echo "changed=false" >> $GITHUB_OUTPUT
    else
      echo "changed=true" >> $GITHUB_OUTPUT
    fi</code></pre>
                        </div>

                        <!-- Langkah 6 -->
                        <div>
                            <h4 class="text-lg md:text-xl font-semibold text-gray-800 mb-2">Langkah 6: Deploy (Kalo Perlu Aja)</h4>
                            <p class="text-gray-700 mb-4">
                                Langkah terakhir ini punya syarat: <code class="bg-gray-100 p-1 rounded text-sm">if: steps.check_changes.outputs.changed == 'true'</code>.
                            </p>
                            <p class="text-gray-700 mb-4">
                                Artinya, dia <strong class="font-semibold">cuma jalan kalo emang ada perubahan</strong>. Kalo <code class="bg-gray-100 p-1 rounded text-sm">changed=false</code>, langkah ini di-skip. Efisien, kan?
                            </p>
                            <p class="text-gray-700 mb-4">
                                Kalo jalan, dia pake action <code class="bg-gray-100 p-1 rounded text-sm">peaceiris/actions-gh-pages</code> buat:
                            </p>
                            <ul class="list-disc list-inside mb-4 text-gray-700 space-y-2">
                                <li>Ngambil semua isi dari <code class="bg-gray-100 p-1 rounded text-sm">deploy_dir</code>.</li>
                                <li>Nge-commit dan nge-push paksa (force push) ke branch <code class="bg-gray-100 p-1 rounded text-sm">site</code>.</li>
                                <li>Opsi <code class="bg-gray-100 p-1 rounded text-sm">keep_files: false</code> berarti dia "bersih-bersih" dulu branch <code class="bg-gray-100 p-1 rounded text-sm">site</code> sebelum naruh file baru.</li>
                            </ul>
                            <pre class="bg-gray-900 text-white p-4 rounded-lg overflow-x-auto"><code class="language-yaml">- name: Deploy to site branch
  if: steps.check_changes.outputs.changed == 'true'
  uses: peaceiris/actions-gh-pages@v4
  with:
    # ... (konfigurasi) ...
    publish_dir: ./deploy_dir
    publish_branch: site
    keep_files: false</code></pre>
                        </div>
                    </div>
                </article>

            </div>
        </section>
        <section class="text-center my-12 p-6 bg-white rounded-lg shadow-lg">
            <h3 class="text-2xl font-bold text-indigo-600 mb-6">Jaga Data Pribadi Tetap Aman</h3>
            <div class="flex justify-center gap-3 md:gap-4 flex-wrap">
                <button id="shareTwitter" class="inline-block bg-blue-400 text-white font-semibold py-2 px-5 rounded-lg hover:bg-blue-500 transition-colors">
                    Bagikan ke Twitter
                </button>
                <button id="shareLinkedIn" class="inline-block bg-blue-700 text-white font-semibold py-2 px-5 rounded-lg hover:bg-blue-800 transition-colors">
                    Bagikan ke LinkedIn
                </button>
                <button id="shareWhatsApp" class="inline-block bg-green-500 text-white font-semibold py-2 px-5 rounded-lg hover:bg-green-600 transition-colors">
                    Bagikan ke WhatsApp
                </button>
                <button id="copyLink" class="inline-block bg-gray-600 text-white font-semibold py-2 px-5 rounded-lg hover:bg-gray-700 transition-colors">
                    Salin Tautan
                </button>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="text-center p-8 text-gray-500 text-sm">
        <p>Dibuat dengan ❤️ oleh f-Page.</p>
        <p>&copy; 2024. Semua penjelasan ini hanya untuk tujuan edukasi.</p>
    </footer>

    <script>
        // Konteks workflow asli dari artikel untuk diberikan ke Gemini
        const workflowContext = `
name: ⚠️ Build and Deploy to Clean Branch
on:
  push:
    branches:
      - main
  workflow_dispatch:
permissions:
  contents: write
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout source branch
        uses: actions/checkout@v4
        with:
          ref: main
          path: source
      - name: Checkout site branch
        uses: actions/checkout@v4
        with:
          ref: site
          path: site
      - name: Create clean directory
        run: mkdir deploy_dir
      - name: Sync allowed files to deploy directory
        run: |
          rsync -a --delete \\
            --include='artikel/***' \\
            --include='ext/***' \\
            --include='img/***' \\
            --include='artikel.json' \\
            --include='_redirects' \\
            --include='_headers' \\
            --include='*.html' \\
            --include='*.xml' \\
            --include='*.txt' \\
            --include='favicon.*' \\
            --include='icon.*' \\
            --include='logo.*' \\
            --include='thumbnail.*' \\
            --include='*.webmanifest' \\
            --exclude='*' \\
            source/ deploy_dir/
      - name: Check for changes (Fast & No-Log)
        id: check_changes
        run: |
          if git diff --no-index --quiet deploy_dir/ site/; then
            echo "changed=false" >> $GITHUB_OUTPUT
          else
            echo "changed=true" >> $GITHUB_OUTPUT
          fi
      - name: Deploy to site branch
        if: steps.check_changes.outputs.changed == 'true'
        uses: peaceiris/actions-gh-pages@v4
        with:
          github_token: \${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./deploy_dir
          publish_branch: site
          user_name: 'github-actions[bot]'
          user_email: 'github-actions[bot]@users.noreply.github.com'
          force_orphan: false
          keep_files: false
        `;

     document.addEventListener('DOMContentLoaded', (event) => {
            
            // --- Logika Back to Top ---
            const toTopBtn = document.getElementById('toTopBtn');
            
            window.onscroll = function() {
                if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                    toTopBtn.classList.remove('hidden');
                } else {
                    toTopBtn.classList.add('hidden');
                }
            };

            toTopBtn.onclick = function() {
                document.body.scrollTop = 0; // For Safari
                document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
            };

            // --- Logika Share ---
            const pageUrl = "https://frijal.pages.dev/artikel/analisis-workflow-github-actions.html";
            const pageTitle = "Ngoprek Workflow GitHub Actions yang Efisien";
            const pageDesc = "Penjelasan mendalam tentang workflow GitHub Actions untuk build dan deploy ke branch 'site' secara efisien.";

            const shareTwitter = document.getElementById('shareTwitter');
            const shareLinkedIn = document.getElementById('shareLinkedIn');
            const shareWhatsApp = document.getElementById('shareWhatsApp');
            const copyLink = document.getElementById('copyLink');

            shareTwitter.onclick = () => {
                const url = `https://twitter.com/intent/tweet?url=${encodeURIComponent(pageUrl)}&text=${encodeURIComponent(pageTitle)}&via=frijal`;
                window.open(url, '_blank', 'width=600,height=400');
            };

            shareLinkedIn.onclick = () => {
                const url = `https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(pageUrl)}&title=${encodeURIComponent(pageTitle)}&summary=${encodeURIComponent(pageDesc)}`;
                window.open(url, '_blank', 'width=600,height=600');
            };

            shareWhatsApp.onclick = () => {
                const url = `https://api.whatsapp.com/send?text=${encodeURIComponent(pageTitle + "\n\n" + pageUrl)}`;
                window.open(url, '_blank');
            };

            copyLink.onclick = () => {
                navigator.clipboard.writeText(pageUrl).then(() => {
                    copyLink.innerText = 'Tautan Disalin!';
                    setTimeout(() => {
                        copyLink.innerText = 'Salin Tautan';
                    }, 2000);
                }).catch(err => {
                    console.error('Gagal menyalin tautan: ', err);
                });
            };

            // --- Event Listeners Baru untuk Gemini ---
            const geminiSubmit = document.getElementById('geminiSubmit');
            const geminiQueryInput = document.getElementById('geminiQuery');
            const promptButtons = document.querySelectorAll('.gemini-prompt-btn');

            geminiSubmit.onclick = handleGeminiSubmit;

            promptButtons.forEach(btn => {
                btn.onclick = () => {
                    geminiQueryInput.value = btn.innerText;
                    geminiQueryInput.focus();
                };
            });

        });
    </script>

<div class="search-floating-container"><input type="text" id="floatingSearchInput" placeholder="cari artikel..." autocomplete="off"><span id="floatingSearchClear" class="clear-button"></span><div id="floatingSearchResults" class="floating-results-container"></div></div>
<section id="related-marquee-section"><div id="related-marquee-container"></div></section><script defer src="/ext/marquee-url.js"></script>
<script defer src="/ext/iposbrowser.js"></script><script defer src="/ext/markdown.js"></script>
</body>
</html>


