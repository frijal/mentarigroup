<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Pembersihan Otomatis Dependencies (Non-Interaktif)</title>
<meta name="description" content="Panduan lengkap menjalankan pembersihan otomatis dependencies dan reinstall Node.js package secara non-interaktif di proyek GitHub Pages menggunakan workflow atau terminal.">
<link rel="icon" href="https://frijal.pages.dev/favicon.ico" type="image/x-icon">
<link rel="canonical" href="https://frijal.pages.dev/artikel/cleanup-auto.html">

<!-- Open Graph -->
<meta property="og:title" content="Pembersihan Otomatis Dependencies (Non-Interaktif)">
<meta property="og:description" content="Cara otomatis membersihkan dependencies yang tidak digunakan dan melakukan reinstall di proyek GitHub Pages.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://frijal.pages.dev/artikel/cleanup-auto.html">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Pembersihan Otomatis Dependencies (Non-Interaktif)">
<meta name="twitter:description" content="Pembersihan dependencies otomatis tanpa prompt, cocok untuk GitHub Actions.">

<!-- Prism.js CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.min.css">
<script src="https://cdn.jsdelivr.net/npm/prismjs@latest/prism.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@latest/plugins/autoloader/prism-autoloader.min.js" defer></script>

<style>
/* ===== Layout dasar responsif ===== */
body {
  margin: 0;
  font-family: system-ui, "Segoe UI", Roboto, sans-serif;
  background: var(--bg);
  color: var(--fg);
  line-height: 1.7;
  padding: 2rem;
  max-width: 900px;
  margin-inline: auto;
}
img {
  max-width: 100%;
  height: auto;
  border-radius: 10px;
}
a { color: var(--link); text-decoration: none; }
a:hover { text-decoration: underline; }

pre {
  border-radius: 10px;
  overflow-x: auto;
  padding: 1rem;
}

/* ===== Mode terang dan gelap otomatis ===== */
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0b0e14;
    --fg: #d6deeb;
    --link: #82aaff;
  }
}
@media (prefers-color-scheme: light) {
  :root {
    --bg: #ffffff;
    --fg: #1e1e1e;
    --link: #007acc;
  }
}

/* ===== Tema Night Owl untuk Prism (gelap) ===== */
@media (prefers-color-scheme: dark) {
code[class*="language-"], pre[class*="language-"] {
  color: #d6deeb;
  background: #011627;
}
.token.comment, .token.prolog, .token.doctype, .token.cdata {
  color: #637777;
}
.token.punctuation { color: #c792ea; }
.token.property, .token.tag, .token.constant, .token.symbol, .token.deleted {
  color: #ff5370;
}
.token.boolean, .token.number { color: #f78c6c; }
.token.selector, .token.attr-name, .token.string, .token.char, .token.builtin, .token.inserted {
  color: #addb67;
}
.token.operator, .token.entity, .token.url, .token.variable {
  color: #c792ea;
}
.token.atrule, .token.attr-value, .token.function, .token.class-name {
  color: #82aaff;
}
.token.keyword { color: #c792ea; }
}

/* ===== Share icons ===== */
.share {
  display: flex;
  gap: 10px;
  margin-top: 2rem;
}
.share a img {
  width: 32px;
  height: 32px;
  filter: brightness(0.9);
  transition: 0.2s;
}
.share a img:hover {
  transform: scale(1.1);
  filter: brightness(1.2);
}

/* ===== Facebook comments ===== */
.fb-comments {
  margin-top: 2rem;
}

</style>

<link rel="stylesheet" href="/ext/marquee-url.css"><link rel="alternate" type="application/rss+xml" title="30 artikel baru bikin." href="https://frijal.pages.dev/rss.xml" />
    <meta property="article:published_time" content="2025-10-16T23:20:38.178+00:00">
</head>
<body>
<main>
  <h1>üßπ Pembersihan Otomatis Dependencies (Non-Interaktif)</h1>
<div id="iposbrowser"></div>


  <p>
    Kadang kita ingin proyek Node.js di GitHub Pages tetap bersih tanpa perlu konfirmasi manual saat melakukan pembersihan <em>dependencies</em> yang tidak terpakai.  
    Di sinilah mode otomatis berguna: skrip berjalan sepenuhnya tanpa prompt dan cocok diintegrasikan ke workflow GitHub Actions.
  </p>

  <h2>üéØ Tujuan</h2>
  <p>
    Dengan skrip <strong>cleanup-auto.js</strong>, kita bisa:
  </p>
  <ul>
    <li>Memeriksa dependencies yang tidak digunakan.</li>
    <li>Menghapusnya secara otomatis tanpa input pengguna.</li>
    <li>Menghapus folder <code>node_modules</code> dan <code>package-lock.json</code> bila perlu.</li>
    <li>Menjalankan instalasi ulang bersih (<code>npm install</code>).</li>
  </ul>

  <h2>ü™Ñ Petunjuk Penggunaan</h2>
  <p>Simpan skrip berikut di <code>ext/cleanup-auto.js</code>:</p>

  <pre><code class="language-js">#!/usr/bin/env node
/**
 * ===================================================================
 * CLEANUP AUTO v1.0
 * Hapus paket tidak terpakai dan reinstall otomatis (non-interaktif)
 * Cocok untuk workflow GitHub Actions
 * ===================================================================
 */
import { execSync } from 'node:child_process';
import depcheck from 'depcheck';
import fs from 'node:fs';

(async () =&gt; {
  console.log('üöÄ Memeriksa paket tidak terpakai...');
  const result = await depcheck(process.cwd());
  const unused = [...result.dependencies, ...result.devDependencies];

  if (unused.length === 0) {
    console.log('‚úÖ Tidak ada paket yang perlu dihapus.');
  } else {
    console.log('üßπ Menghapus paket:', unused.join(', '));
    execSync(`npm uninstall ${unused.join(' ')}`, { stdio: 'inherit' });
  }

  console.log('üóëÔ∏è Menghapus node_modules dan package-lock.json...');
  fs.rmSync('node_modules', { recursive: true, force: true });
  fs.rmSync('package-lock.json', { force: true });

  console.log('üì¶ Instal ulang paket...');
  execSync('npm install', { stdio: 'inherit' });

  console.log('‚ú® Cleanup selesai tanpa prompt!');
})();</code></pre>

  <h2>‚öôÔ∏è Integrasi ke Workflow GitHub Actions</h2>
  <p>
    Kita bisa menjadwalkan proses pembersihan otomatis ini langsung dari workflow YAML agar dijalankan misalnya setiap minggu.
  </p>

  <pre><code class="language-yaml">name: Auto Cleanup Dependencies

on:
  schedule:
    - cron: '0 21 * * 0'  # Setiap Minggu jam 21:00 UTC
  workflow_dispatch:

jobs:
  cleanup:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      - name: Install Dependencies
        run: npm ci

      - name: Jalankan Cleanup Otomatis
        run: node ext/cleanup-auto.js
</code></pre>

  <h2>üí° Tips Tambahan</h2>
  <ul>
    <li>Gunakan mode ini hanya di branch utama atau staging, agar tidak menghapus paket penting di branch pengembangan.</li>
    <li>Bisa dikombinasikan dengan workflow build agar repo tetap ramping.</li>
    <li>Tambahkan log hasil cleanup ke artifact untuk audit.</li>
  </ul>

  <h2>‚úÖ Kesimpulan</h2>
  <p>
    Skrip <code>cleanup-auto.js</code> membantu menjaga proyek tetap ringan, bebas sisa dependensi, dan sepenuhnya otomatis tanpa konfirmasi manual.
    Cocok dijalankan pada server CI/CD seperti GitHub Actions, terutama untuk proyek statis seperti GitHub Pages.
  </p>

  <div class="share">
    <a href="https://twitter.com/intent/tweet?url=https://frijal.pages.dev/artikel/cleanup-auto.html&amp;text=Pembersihan%20Otomatis%20Dependencies%20Node.js%20di%20GitHub%20Pages" target="_blank">
      <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/twitter.svg" alt="Twitter">
    </a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=https://frijal.pages.dev/artikel/cleanup-auto.html" target="_blank">
      <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg" alt="Facebook">
    </a>
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://frijal.pages.dev/artikel/cleanup-auto.html" target="_blank">
      <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg" alt="LinkedIn">
    </a>
  </div>

<div class="search-floating-container"><input type="text" id="floatingSearchInput" placeholder="cari artikel..." autocomplete="off"><span id="floatingSearchClear" class="clear-button"></span><div id="floatingSearchResults" class="floating-results-container"></div></div>
<section id="related-marquee-section"><div id="related-marquee-container"></div></section><script defer src="/ext/marquee-url.js"></script>
<script defer src="/ext/iposbrowser.js"></script><script defer src="/ext/markdown.js"></script>


</body>
</html>
